; MohnNode ESP32 Firmware â€” Game-Integrated Node
; Supports: Heartbeat, Hibernation, Supercharge, AI Arena Battle
; Hardware: ESP32-WROOM-32 (WiFi only) or ESP32 + GPS

[env:esp32]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
upload_speed = 921600

lib_deps =
    bblanchon/ArduinoJson@^7.0.0
    micro-ecc/micro-ecc@^1.0.0
    mikalhart/TinyGPSPlus@^1.1.0
    WiFi
    HTTPClient
    Preferences

build_flags =
    -D MOHN_FIRMWARE_VERSION='"1.0.0"'
    -D HEARTBEAT_INTERVAL_MS=600000   ; 10 minutes
    -D API_ENDPOINT='"https://us-central1-mohnsters.cloudfunctions.net"'
    -D ENABLE_GPS=0                    ; Set to 1 for GPS-equipped nodes
    -D ENABLE_GAME=1                   ; MohnSters game integration
    -D ARENA_TICK_MS=5000              ; Arena battle tick interval (5 sec)
    -D EGG_GENERATION_HOURS=24         ; Hours of uptime before egg generation
